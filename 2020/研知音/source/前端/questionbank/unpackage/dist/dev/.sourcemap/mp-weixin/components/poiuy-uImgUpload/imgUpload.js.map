{"version":3,"sources":["webpack:///E:/HBuilderProjects/COOL-UNI/components/poiuy-uImgUpload/imgUpload.vue?45d4","webpack:///E:/HBuilderProjects/COOL-UNI/components/poiuy-uImgUpload/imgUpload.vue?d5ad","webpack:///E:/HBuilderProjects/COOL-UNI/components/poiuy-uImgUpload/imgUpload.vue?8c69","webpack:///E:/HBuilderProjects/COOL-UNI/components/poiuy-uImgUpload/imgUpload.vue?b8d2","webpack:///E:/HBuilderProjects/COOL-UNI/components/poiuy-uImgUpload/imgUpload.vue","webpack:///E:/HBuilderProjects/COOL-UNI/components/poiuy-uImgUpload/imgUpload.vue?d09e","webpack:///E:/HBuilderProjects/COOL-UNI/components/poiuy-uImgUpload/imgUpload.vue?cd60"],"names":["name","props","imgArr","type","Array","uploadImgCount","String","default","imgCount","imgSize","Number","imgType","closeTip","Boolean","closeLoading","data","imgArray","canUpCount","startUpload","created","watch","n","o","methods","upPhoto","that","length","uni","showActionSheet","itemList","success","res","tapIndex","chooseImage","count","sizeType","sourceType","tempFiles","item","size","showToast","title","icon","r","some","v","split","tempFilePaths","fail","console","log","errMsg","preview","url","index","previewImage","urls","delImg","i","_this","showModal","content","confirm","splice","cancel","upload","callback","successNum","urlArr","uploadImg","code","push","result","msg","urlArray","uploadFile","filePath","uploadFileRes","JSON","parse","e","localUrl","reason"],"mappings":"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","file":"components/poiuy-uImgUpload/imgUpload.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./imgUpload.vue?vue&type=template&id=511c7022&scoped=true&\"\nvar renderjs\nimport script from \"./imgUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./imgUpload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./imgUpload.vue?vue&type=style&index=0&id=511c7022&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"511c7022\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/HBuilderProjects/COOL-UNI/components/poiuy-uImgUpload/imgUpload.vue\"\nexport default component.exports","export * from \"-!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./imgUpload.vue?vue&type=template&id=511c7022&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./imgUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./imgUpload.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n//import $config from \"@/appConfig.js\"; //调用url前缀 *注意修改为自己的！！！\nexport default {\n\tname: 'imgUpload',\n\tprops: {\n\t\timgArr: { //图片数组\n\t\t\ttype: [Array],\n\t\t},\n\t\tuploadImgCount: { //一次上传图片数\n\t\t\ttype: String,\n\t\t\tdefault: '3'\n\t\t},\n\t\timgCount: { //可上传图片总数\n\t\t\ttype: String,\n\t\t\tdefault: '3'\n\t\t},\n\t\timgSize: { //图片大小 单位M\n\t\t\ttype: Number,\n\t\t\tdefault: 2\n\t\t},\n\t\timgType: {\n\t\t\ttype: [Array],\n\t\t\tdefault: function() {\n\t\t\t\treturn ['jpeg', 'png', 'jpg']\n\t\t\t}\n\t\t},\n\t\tcloseTip: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tcloseLoading: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\timgArray: [],\n\t\t\tcanUpCount:'',\n\t\t\tstartUpload:false,\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.imgArray = this.imgArr;\n\t\tthis.canUpCount = Number(this.uploadImgCount);\n\t\t// this.uploadImgUrl = '@/static/uploading'+this.uploadImgStyle+'.png';\n\t},\n\twatch: {\n\t\timgArr(n,o){\n\t\t\tthis.imgArray = n;\n\t\t},\n\t\t// uploadImgStyle(n,o){\n\t\t// \tthis.uploadImg = '@/static/uploading'+n+'.png';\n\t\t// }\n\t},\n\tmethods: {\n\t\tupPhoto() {\n\t\t\tlet that = this;\n\t\t\tif (Number(that.imgCount - that.imgArray.length) < Number(that.uploadImgCount)) {\n\t\t\t\tthat.canUpCount = Number(that.imgCount - that.imgArray.length);\n\t\t\t}\n\t\t\tuni.showActionSheet({\n\t\t\t\titemList: ['拍照上传', '从相册中选择'],\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.tapIndex == 0) {\n\t\t\t\t\t\tuni.chooseImage({\n\t\t\t\t\t\t\tcount: Number(that.canUpCount),\n\t\t\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\t\t\t\tsourceType: ['camera'], //从相册选择\n\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\t\tif (res.tempFiles instanceof Array && res.tempFiles) {\n\t\t\t\t\t\t\t\t\t\tfor (let item of res.tempFiles) {\n\t\t\t\t\t\t\t\t\t\t\tif (item.size > (that.imgSize * 1024 * 1024)) {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: `图片不能大于${that.imgSize}M`,\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tlet r = that.imgType.some(v => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet type = item.type.split('/');\n\t\t\t\t\t\t\t\t\t\t\t\tif (type.length)\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (v === type[1]);\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tif (!r) {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: `只允许上传${that.imgType}的类型`,\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthat.imgArray = [...that.imgArray, ...res.tempFilePaths];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (res.tapIndex == 1) {\n\t\t\t\t\t\tuni.chooseImage({\n\t\t\t\t\t\t\tcount: Number(that.canUpCount),\n\t\t\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\t\t\t\tsourceType: ['album'], //从相册选择\n\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\t\tif (res.tempFiles instanceof Array && res.tempFiles) {\n\t\t\t\t\t\t\t\t\t\tfor (let item of res.tempFiles) {\n\t\t\t\t\t\t\t\t\t\t\tif (item.size > (that.imgSize * 1024 * 1024)) {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: `图片不能大于${that.imgSize}M`,\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tlet r = that.imgType.some(v => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet type = item.type.split('/');\n\t\t\t\t\t\t\t\t\t\t\t\tif (type.length)\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (v === type[1]);\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tif (!r) {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: `只允许上传${that.imgType}的类型`,\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthat.imgArray = [...that.imgArray, ...res.tempFilePaths];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: function(res) {\n\t\t\t\t\tconsole.log(res.errMsg);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tpreview(url, index) {\n\t\t\t// 预览图片\n\t\t\tuni.previewImage({\n\t\t\t\turls: [url]\n\t\t\t});\n\t\t},\n\t\tdelImg(i) {\n\t\t\tconst _this = this;\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '是否删除这张照片？',\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t_this.imgArray.splice(i, 1);\n\t\t\t\t\t} else if (res.cancel) {}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\tupload(callback) {\n\t\t\tconst _this = this;\n\t\t\tif (_this.imgArray instanceof Array && _this.imgArray.length) {\n\t\t\t\tthis.startUpload=true;\n\t\t\t\tlet successNum = 0;\n\t\t\t\tlet urlArr = [];\n\t\t\t\tfor (let item of _this.imgArray) {\n\t\t\t\t\t_this.uploadImg(item, res => {\n\t\t\t\t\t\tif (res.code == 0) {\n\t\t\t\t\t\t\tsuccessNum++;\n\t\t\t\t\t\t\turlArr.push(res.url);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\turlArr.push(res);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (urlArr.length == _this.imgArray.length) {\n\t\t\t\t\t\t\tif(successNum>0){\n\t\t\t\t\t\t\t\tthis.startUpload=false;\n\t\t\t\t\t\t\t\tcallback(_this.result(urlArr, successNum));\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.startUpload=false;\n\t\t\t\t\t\t\t\tcallback(urlArr); //错误的返回\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcallback({\n\t\t\t\t\tresult: 'warning',\n\t\t\t\t\tcode: 400,\n\t\t\t\t\tmsg: '请先上传图片！'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tresult(urlArr, successNum) {\n\t\t\tlet result = {\n\t\t\t\tresult: 'success',\n\t\t\t\tcode: 0,\n\t\t\t\turlArray: urlArr,\n\t\t\t\tsuccess: successNum\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\n\t\tuploadImg(item, callback) {\n\t\t\tconst _this = this;\n\t\t\tuni.uploadFile({\n\t\t\t\turl: 'api/sys/user/modify/uploadPic', //自行修改各自的对应的接口 \n\t\t\t\tfilePath: item,\n\t\t\t\tname: 'file',\n\t\t\t\tsuccess: (uploadFileRes) => {\n\t\t\t\t\tif (uploadFileRes) {\n\t\t\t\t\t\tlet res = JSON.parse(uploadFileRes.data);\n\t\t\t\t\t\tcallback(res);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail:(e)=>{\n\t\t\t\t\tcallback({\n\t\t\t\t\t\tcode:500,\n\t\t\t\t\t\tmsg:'图片上传失败',\n\t\t\t\t\t\tlocalUrl:item,\n\t\t\t\t\t\treason:e\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n","import mod from \"-!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./imgUpload.vue?vue&type=style&index=0&id=511c7022&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./imgUpload.vue?vue&type=style&index=0&id=511c7022&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1597643083574\n      var cssReload = require(\"D:/hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}