{"version":3,"sources":["uni-app:///main.js","webpack:///D:/源码/COOL-UNI2/pages/note/modify.vue?2640","webpack:///D:/源码/COOL-UNI2/pages/note/modify.vue?8f5b","webpack:///D:/源码/COOL-UNI2/pages/note/modify.vue?b9db","webpack:///D:/源码/COOL-UNI2/pages/note/modify.vue?a0b0","uni-app:///pages/note/modify.vue","webpack:///D:/源码/COOL-UNI2/pages/note/modify.vue?aee2","webpack:///D:/源码/COOL-UNI2/pages/note/modify.vue?5ee0"],"names":["createPage","Page"],"mappings":"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","file":"pages/note/modify.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/note/modify.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./modify.vue?vue&type=template&id=ed32bbe4&\"\nvar renderjs\nimport script from \"./modify.vue?vue&type=script&lang=js&\"\nexport * from \"./modify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./modify.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/note/modify.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./modify.vue?vue&type=template&id=ed32bbe4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./modify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./modify.vue?vue&type=script&lang=js&\"","<template>\r\n    <view class=\"page\" v-if=\"flag==true\">\r\n        <view class=\"feedback-body\" >\r\n            <textarea :placeholder=\"sendDate.content==''?'请输入...':''\" style=\"border-bottom:1px solid   #F1F1F3;\" v-model=\"sendDate.content\" class=\"feedback-textare\"  />\r\n        </view>\r\n        <!-- <choose :count=\"count\"  :imgList=\"imgList\"  @changes=\"fileChange\"></choose>\r\n        <compress  ref=\"compress\" :maxwh=\"maxwh\" :quality=\"quality\"> </compress> -->\r\n\r\n\r\n       <!-- <view class=\"swiper-list\">\r\n            <view class=\"uni-list-cell uni-list-cell-pd feedback-title\">\r\n                <view class=\"uni-list-cell-db \">图片是否压缩</view>\r\n                <switch :checked=\"isYasuo\" @change=\"changeIndicatorDots\" />\r\n            </view>\r\n        </view>\r\n        <view class='feedback-title'>\r\n            <text>QQ/邮箱</text>\r\n        </view>\r\n        <view class=\"feedback-body\">\r\n            <input class=\"feedback-input\" v-model=\"sendDate.contact\" placeholder=\"(选填,方便我们联系你 )\" />\r\n        </view>\r\n        <view class='feedback-title feedback-star-view'>\r\n            <text>插件评分</text>\r\n            <view class=\"feedback-star-view\">\r\n                <text class=\"feedback-star\" v-for=\"(value,key) in stars\" :key=\"key\" :class=\"key < sendDate.score ? 'active' : ''\" @tap=\"chooseStar(value)\"></text>\r\n            </view>\r\n        </view> -->\r\n        <button type=\"default\" class=\"feedback-submit\" @tap=\"send\" >保存</button>\r\n\r\n    </view>\r\n</template>\r\n\r\n<script>\r\n   \r\n\t\r\n    export default {\r\n        name:'newsPublish',\r\n       \r\n        data() {\r\n            return {\r\n\t\t\t\tbook:false,\r\n\t\t\t\tflag:false,\r\n\t\t\t\tqid:null,\r\n                isYasuo:true,\r\n                count:3,\r\n                maxwh:280,\r\n                quality:1, \r\n                msgContents: [\"界面显示错乱\", \"启动缓慢，卡出翔了\", \"UI无法直视，丑哭了\", \"偶发性崩溃\"],\r\n                stars: [1, 2, 3, 4, 5],\r\n                imgList: [],\r\n\t\t\t\timgBook:[],\r\n                sendDate: {\r\n                    score: 0,\r\n                    content: null,\r\n                    contact: \"\"\r\n                }\r\n            }\r\n        },\r\n        onLoad(option) {\r\n\t\t\t//this.imgList=['http://192.168.43.202:8081/noteImgs/60497f56-6.png'];\r\n\t\t    this.qid = parseInt(option.qid);\r\n\t\t\tthis.loadData();\r\n\t\t\t\r\n\r\n        },\r\n        methods: {\r\n\t\t\r\n\t\t\tloadData:async function(){\r\n\t\t\t\tuni.showLoading({title:\"加载中\"});\r\n\t\t\t\tvar that=this;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: that.$server+\"/user-note/modify?qid=\"+that.qid,\r\n\t\t\t\t\t\tmethod: \"GET\",\r\n\t\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\t\theader:{'Cookie':\"JSESSIONID=\"+that.JSESSIONID()},\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tif(res!=undefined && res.data.code==200){\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthat.sendDate.content = res.data.data.content==null?'':res.data.data.content;\r\n\t\t\t\t\t\t\t//this.imgList=res.data.data.imageList==null?[]:res.data.data.imageList;\r\n\t\t\t\t\t\t\tif(res.data.data.imageList!=null)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvar imageList=res.data.data.imageList;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tfor(var i=0;i<imageList.length;++i)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthat.imgBook.push({id:imageList[i].id,operate:0,path:that.$server+\"/noteImgs/\"+imageList[i].path});   // 0是表示没有变化\r\n\t\t\t\t\t\t\t\t\tthat.imgList.push(that.$server+\"/noteImgs/\"+imageList[i].path);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(that.sendDate.content!=\"\" || that.imgList.length>0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t//console.log(this.sendDate.content);\r\n\t\t\t\t\t\t\t\tthat.book=true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t uni.hideLoading();\t\r\n\t\t\t\t\t\t\t that.flag=true;\t\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t/* console.log(error); */\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\t\t\t\ttitle:\"出了点问题\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\t\t\ttitle:\"出了点问题\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t/* var [error,res] = await uni.request({\r\n\t\t\t\t\turl: this.$server+\"/user-note/modify?qid=\"+this.qid,\r\n\t\t\t\t}); */\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n            compressImg(e){\r\n             // console.log(e)  \r\n            },\r\n            changeIndicatorDots(e){\r\n            this.isYasuo = !this.isYasuo\r\n            },\r\n            fileChange(e){\t\r\n              this.imgList=e;\r\n\t\t\t\r\n                  //             YCImg.canvasToBase64(e)\r\n                  // .then(e => {\r\n                  //     // console.log(JSON.stringify(e))\r\n                  //     this.value = e;\r\n                  //     this.confirm();\r\n                  //     // console.log(e)\r\n                  // })\r\n                  // .catch(e => {\r\n                  //     uni.showToast({\r\n                  //         title: '失败！' + e.message,\r\n                  //         icon: 'none',\r\n                  //         duration: 1000\r\n                  //     });\r\n                  // })\r\n            },\r\n            chooseStar(e) { //点击评星\r\n                this.sendDate.score = e;\r\n            },\r\n            previewImage() { //预览图片\r\n                uni.previewImage({\r\n                    urls: this.imgList\r\n                });\r\n            },\r\n            send() { //发送提交\r\n                //console.log(JSON.stringify(this.sendDate));\r\n\t\t\t\t var that=this;\r\n                \r\n                function requst(imgs,data){\r\n\t\t\t\t\t\r\n\t\t\t\t\t//console.log(imgs);\r\n\t\t\t\t\tif(data.content!=\"\" || imgs.length>0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthat.book=true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(that.book){\r\n\t\t\t\t\tuni.showLoading({title:\"保存中\"});\t\r\n                   /// console.log(JSON.stringify(imgs));\r\n\t\t\t\t\tdata.qid=that.qid;\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: that.$server+\"/user-note/addContent\",\r\n\t\t\t\t\t\tdata:data,\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\twithCredentials:true,\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t'Cookie':\"JSESSIONID=\"+that.JSESSIONID(),\r\n\t\t\t\t\t\t    'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\r\n\t\t\t\t\t\t\tif(res.data.code==200)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\t\t\t    title: \"保存成功\"\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tvar data=res.data.data;\r\n\t\t\t\t\t\t\t\t//data.id  //就是添加的用户的笔记的Id \r\n\t\t\t\t\t\t\t\tvar deleted=0;\r\n\t\t\t\t\t\t\t\tif(imgs.length==0)\r\n\t\t\t\t\t\t\t\tdeleted=1;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t//that.uploadImgs(data,deleted,imgs);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\t\t\t    title: \"出了点问题\"\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\t\t    title: \"操作失败\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t//uni.hideLoading();\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\t    title: \"请输入\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n                                    \r\n                }\r\n\t\t\t\t//console.log(this.imgList);\r\n                \r\n                /* if(this.isYasuo){\r\n\t\t\t\t\tvar temp=[];\r\n\t\t\t\t\tfor(var i=0;i<this.imgList.length;++i)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar file={uri:null};\r\n\t\t\t\t\t\tfile.uri=this.imgList[i];\r\n\t\t\t\t\t\ttemp.push(file);\r\n\t\t\t\t\t}\r\n                   this.checkandupdate(temp);  \r\n                    this.$refs.compress.yasuoImg(this.imgList).then(e=>{\r\n                       \r\n                        let imgs = e.map((value, index) => {\r\n                           \r\n                            return {\r\n                                name: \"image\" + index,\r\n                                uri:value.path,\r\n                                base64:value.tempFilePath\r\n                                \r\n                            }\r\n                        })\r\n                        // console.log(imgs)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor(var i=0;i<this.imgBook.length;++i)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.imgBook[i].path=imgs[i].uri;\r\n\t\t\t\t\t\t}\r\n                        requst(imgs,this.sendDate)\r\n                    })\r\n                }else{\r\n\t\t\t\t\r\n                    \r\n                    let imgs = this.imgList.map((value, index) => {\r\n                        return {\r\n                            name: \"image\" + index,\r\n                            uri:value,\r\n                            base64:value\r\n                        }\r\n                    })\r\n                    requst(imgs,this.sendDate)\r\n                } */\r\n\t\t\t\t requst(this.imgList,this.sendDate)\r\n            },\r\n\t\t\tuploadImgs(data,deleted,imgs)\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\t//console.log(imgs);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tvar that=this;\r\n\t\t\t\t//console.log(imgs);\r\n\t\t\t\t\r\n\t\t\t\tvar mes=[];\r\n\t\t\t\t\r\n\t\t\t\tfor(var i=that.imgBook.length;i<imgs.length;++i){\r\n\t\t\t\t(function(i){\r\n\t\t\t\t\t/* console.log(imgs[i]); */\r\n\t\t\t\t\tvar temp=imgs[i].base64;\r\n\t\t\t\t\tvar data1={\r\n\t\t\t\t\t\tnid:data.id,\r\n\t\t\t\t\t\timg:JSON.stringify(temp),\r\n\t\t\t\t\t\ttype:\"png\"\r\n\t\t\t\t\t};\r\n\t\t\t\t uni.request({\r\n\t\t\t\t\t url: that.$server+\"/user-note/addImg3000\",\r\n\t\t\t\t\t  //files: imgs,\r\n\t\t\t\t\t  data:data1,\r\n\t\t\t\t\t  method: \"POST\",\r\n\t\t\t\t\t  dataType: 'json',\r\n\t\t\t\t\t  withCredentials:true,\r\n\t\t\t\t\t  header:{'Cookie':\"JSESSIONID=\"+that.JSESSIONID(),'content-type': 'application/x-www-form-urlencoded'},\r\n\t\t\t\t\t \r\n\t\t\t\t\t  success(res){\r\n\t\t\t\t\t\t  console.log(res);\r\n\t\t\t\t\t  },\r\n\t\t\t\t\t  fail(res){\r\n\t\t\t\t\t\t  console.log(res);\r\n\t\t\t\t\t  }\r\n\t\t\t\t });\t\r\n\t\t\t\t uni.uploadFile({\r\n\t\t\t\t    url: that.$server+\"/user-note/addImg\",\r\n\t\t\t\t    //files: imgs,\r\n\t\t\t\t   /* data:data1,\r\n\t\t\t\t    method: \"POST\", */\r\n\t\t\t\t    dataType: 'json',\r\n\t\t\t\t\t\r\n\t\t\t\t\tfilePath:imgs[i].uri,\r\n\t\t\t\t\tfileType: 'image',\r\n\t\t\t\t\tname:\"img\",\r\n\t\t\t\t    dataType:\"json\", \r\n\t\t\t\t\t\r\n\t\t\t\t\tformData:{\r\n\t\t\t\t\t nid:data.id\t\r\n\t\t\t\t\t},\r\n\t\t\t\t    success: (result) => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tresult.data =JSON.parse(result.data);\r\n\t\t\t\t\t\t//uni.hideLoading();\r\n\t\t\t\t        if (result.data.code==200) {\r\n\t\t\t\t            if(result.data.data!=null){\r\n\t\t\t\t\t\t\t// console.log(result.data);\t\r\n\t\t\t\t            /* uni.showToast({\r\n\t\t\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t                title: result.data.data\r\n\t\t\t\t            }); */\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(result.data.data!=undefined &&  result.data.data.id!=undefined)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvar data1=result.data.data;\r\n\t\t\t\t\t\t\t\t/* console.log(\"上传成功了\");\r\n\t\t\t\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t\t\t    console.log(i);\r\n\t\t\t\t\t\t\t    console.log(imgs[i]);\r\n\t\t\t\t\t\t\t\tconsole.log(\"结束了\"); */\r\n\t\t\t\t\t\t\t\tthat.imgBook.push({id:data1.id,operate:0,path:imgs[i].uri});   // 0是表示没有变化\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t//that.imgBook.push({id:-1,operate:0,path:\"\"});   // 0是表示没有变化\r\n\t\t\t\t\t\t\t\tthat.imgBook.push({id:-1,operate:0,path:imgs[i].uri});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tmes.push({index:i,message:result.data.data});\r\n\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//that.imgList.splice(i);\r\n\t\t\t\t\t\t\t}/* else{\r\n\t\t\t\t\t\t\t mes.push({index:i,message:\"上传失败，请重试\"});\r\n\t\t\t\t\t\t\t this.imgBook.push({id:-1,operate:0,\"\"});   // 0是表示没有变化\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t} */\r\n\t\t\t\t\t\t    if(data.content==\"\" && imgs.length==0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthat.book=false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t           /* this.imgList = [];\r\n\t\t\t\t            this.sendDate = {\r\n\t\t\t\t                score: 0,\r\n\t\t\t\t                content: \"\",\r\n\t\t\t\t                contact: \"\"\r\n\t\t\t\t            } */\r\n\t\t\t\t       }else{\r\n\t\t\t\t\t\t   \r\n\t\t\t\t\t\t   /* console.log(res);\r\n\t\t\t\t\t\t    console.log(22222);\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\t\t    title: \"上传图片失败\"\r\n\t\t\t\t\t\t\t}); */\r\n\t\t\t\t\t\t\tmes.push({index:i,message:\"上传失败，请重试\"});\r\n\t\t\t\t\t\t\t//this.imgBook.push({id:-1,operate:0,path:\"\"});   // 0是表示没有变化\r\n\t\t\t\t\t\t\tthat.imgBook.push({id:-1,operate:0,path:imgs[i].uri});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t    },\r\n\t\t\t\t    fail: (res) => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//uni.hideLoading();\t\r\n\t\t\t\t\t   /* uni.hideLoading();\t\r\n\t\t\t\t       uni.showToast({\r\n\t\t\t\t       \ticon:\"none\",\r\n\t\t\t\t           title: \"上传图片失败\"\r\n\t\t\t\t       }); */\r\n\t\t\t\t\t /* console.log(res); */ \r\n\t\t\t\t\t  mes.push({index:i,message:\"上传失败，请重试\"});\r\n\t\t\t\t\t  that.imgBook.push({id:-1,operate:0,path:imgs[i].uri});   // 0是表示没有变化\r\n\t\t\t\t\t  \r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t\t})(i);\r\n\t\t\t\t}\r\n\t\t\t\tif(mes.length==0){\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t    title: \"保存成功\"\r\n\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tmes=[];\r\n\t\t\t\t}\r\n\t\t\t\t/* for(var i=0;i<imgs.length;++i)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(mes[i].message!=null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\timgs.split();\r\n\t\t\t\t\t}\r\n\t\t\t\t} */\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tcheckandupdate(imgs)\r\n\t\t\t{\r\n\t\t\t\t/* console.log(this.imgBook);\r\n\t\t\t\tconsole.log(imgs); */\r\n\t\t\t\tvar i=0,j=0;\r\n\t\t\t    var l1=this.imgBook.length;\r\n\t\t\t\tvar l2=imgs.length;\r\n\t\t\t\tif(l2==0 && l1!=0)\r\n\t\t\t\t{\r\n\t\t\t\t\twhile(i<l1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.imgBook[i].operate=1;\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\twhile(i<l1 && j<l2)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(this.imgBook[i].path!=imgs[j].uri)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.imgBook[i].operate=1;\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\twhile(i<l1){\r\n\t\t\t\t  this.imgBook[i].operate=1;\r\n\t\t\t\t  i++;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tvar ids=[];\r\n\t\t\tvar temp=[];\r\n\t\t\tfor(var i=0;i<this.imgBook.length;++i)\r\n\t\t\t{\r\n\t\t\t\tif(this.imgBook[i].operate==1)\r\n\t\t\t\t{\r\n\t\t\t\t\tids.push(this.imgBook[i].id);\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttemp.push(this.imgBook[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.imgBook=temp;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(ids.length>0)\r\n\t\t\t{\r\n\t\t\t \r\n\t\t\t uni.request(\r\n\t\t\t {\r\n\t\t\t\turl:this.$server+\"/user-note/delImg\",\r\n\t\t\t\tdata:JSON.stringify(ids),\r\n\t\t\t\tmethod:\"POST\",\r\n\t\t\t\t\r\n\t\t\t    success(res)\r\n\t\t\t\t{\r\n\t\t\t\t\t//console.log(res);\r\n\t\t\t\t},\r\n\t\t\t\tfail(res)\r\n\t\t\t\t{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\ttitle:\"出现问题了,保存失败\"\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t });\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n        }\r\n\t\t}\r\n    }\r\n</script>\r\n\r\n<style>\r\n    page {\r\n        background-color: #EFEFF4;\r\n    }\r\n\r\n    .input-view {\r\n        font-size: 28upx;\r\n    }\r\n    .close-view{\r\n        text-align: center;line-height:14px;height: 16px;width: 16px;border-radius: 50%;background: #FF5053;color: #FFFFFF;position: absolute;top: -6px;right: -4px;font-size: 12px;\r\n    }\r\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./modify.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./modify.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1606034947772\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}